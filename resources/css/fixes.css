/* ==========================================
   AJUSTES FINAIS E CORREÇÕES
   Paróquia São Paulo Apóstolo
   ========================================== */

/* ==========================================
   CORREÇÕES DE COMPATIBILIDADE
   ========================================== */

/* Correção para Bootstrap conflitos */
.navbar-brand:hover,
.navbar-brand:focus {
    text-decoration: none !important;
}

/* Garantir que as cores customizadas prevaleçam */
.btn-warning:not(:disabled):not(.disabled):active,
.btn-warning:not(:disabled):not(.disabled).active,
.show > .btn-warning.dropdown-toggle {
    background: var(--cor-dourado-escuro) !important;
    border-color: var(--cor-dourado-escuro) !important;
    color: var(--cor-branco) !important;
}

.btn-primary:not(:disabled):not(.disabled):active,
.btn-primary:not(:disabled):not(.disabled).active,
.show > .btn-primary.dropdown-toggle {
    background: var(--cor-vinho-escuro) !important;
    border-color: var(--cor-vinho-escuro) !important;
    color: var(--cor-branco) !important;
}

/* ==========================================
   MELHORIAS DE PERFORMANCE
   ========================================== */

/* Lazy loading para imagens */
img[loading="lazy"] {
    opacity: 0;
    transition: opacity 0.3s;
}

img[loading="lazy"].loaded {
    opacity: 1;
}

/* Otimização de will-change */
.hover-elevate,
.card-paroquia,
.btn-paroquia {
    will-change: transform;
}

.hover-elevate:not(:hover),
.card-paroquia:not(:hover),
.btn-paroquia:not(:hover) {
    will-change: auto;
}

/* ==========================================
   MELHORIAS DE ACESSIBILIDADE
   ========================================== */

/* Indicadores de foco melhorados */
.navbar-toggler:focus,
.btn:focus,
.nav-link:focus {
    outline: 3px solid var(--cor-dourado) !important;
    outline-offset: 2px !important;
    box-shadow: none !important;
}

/* Texto mais legível em fundos escuros */
.bg-vinho,
.bg-vinho-escuro,
.bg-dourado,
.bg-dourado-escuro {
    color: white !important;
}

.bg-vinho *,
.bg-vinho-escuro *,
.bg-dourado *,
.bg-dourado-escuro * {
    color: white !important;
}

/* ==========================================
   AJUSTES TIPOGRÁFICOS
   ========================================== */

/* Melhor legibilidade em dispositivos móveis */
@media (max-width: 767.98px) {
    body {
        font-size: 16px; /* Evita zoom no iOS */
    }
    
    input, textarea, select {
        font-size: 16px; /* Evita zoom no iOS */
    }
}

/* Quebra de palavra adequada */
.card-title,
.card-text,
h1, h2, h3, h4, h5, h6 {
    word-wrap: break-word;
    hyphens: auto;
}

/* ==========================================
   CORREÇÕES DE LAYOUT
   ========================================== */

/* Garantir que o conteúdo não fique atrás da navbar fixa */
body {
    padding-top: 80px;
}

@media (max-width: 991.98px) {
    body {
        padding-top: 70px;
    }
}

@media (max-width: 767.98px) {
    body {
        padding-top: 60px;
    }
}

/* Ajuste do hero para compensar a navbar */
.hero-paroquia {
    margin-top: -80px;
    padding-top: 80px;
}

@media (max-width: 991.98px) {
    .hero-paroquia {
        margin-top: -70px;
        padding-top: 70px;
    }
}

@media (max-width: 767.98px) {
    .hero-paroquia {
        margin-top: -60px;
        padding-top: 60px;
    }
}

/* ==========================================
   MELHORIAS DE INTERAÇÃO
   ========================================== */

/* Cursor pointer em elementos clicáveis */
.card-paroquia,
.card-pastoral,
.card-noticia,
.horario-missa {
    cursor: pointer;
}

/* Estados de loading mais suaves */
.loading {
    position: relative;
    overflow: hidden;
}

.loading::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

/* ==========================================
   CORREÇÕES ESPECÍFICAS DO PROJETO
   ========================================== */

/* Garantir que os ícones Lucide sejam renderizados corretamente */
[data-lucide] {
    display: inline-block;
    width: 1em;
    height: 1em;
    stroke-width: 2;
    stroke: currentColor;
    fill: none;
}

/* Ajuste do spacing dos ícones Bootstrap */
.bi {
    line-height: 1;
    vertical-align: -0.125em;
}

/* ==========================================
   CORREÇÕES DE IMPRESSÃO
   ========================================== */
@media print {
    /* Garantir que as cores sejam preservadas */
    .text-dourado,
    .text-vinho {
        color: #000 !important;
    }
    
    /* Ajustar tamanhos para impressão */
    .hero-paroquia {
        height: auto !important;
        min-height: auto !important;
        padding: 2rem 0 !important;
    }
    
    /* Quebras de página adequadas */
    .section-paroquia {
        break-inside: avoid;
        page-break-inside: avoid;
    }
    
    /* Garantir que links sejam visíveis */
    a[href]:after {
        content: " (" attr(href) ")";
        font-size: 0.8em;
        color: #666;
    }
    
    a[href^="#"]:after,
    a[href^="javascript:"]:after {
        content: "";
    }
}

/* ==========================================
   OTIMIZAÇÕES DARK MODE (PREPARAÇÃO)
   ========================================== */
@media (prefers-color-scheme: dark) {
    /* Preparar variáveis para modo escuro futuro */
    :root {
        --cor-branco-dark: #1a1a1a;
        --cor-bege-dark: #2d2d2d;
        --cor-cinza-claro-dark: #333;
        --cor-texto-dark: #e0e0e0;
    }
}

/* ==========================================
   CORREÇÕES DE BUGS CONHECIDOS
   ========================================== */

/* Fix para Safari: evitar zoom em inputs */
@supports (-webkit-touch-callout: none) {
    input, textarea, select {
        font-size: 16px;
    }
}

/* Fix para Edge: garantir que flexbox funcione corretamente */
@supports (-ms-ime-align: auto) {
    .d-flex {
        display: -ms-flexbox !important;
        display: flex !important;
    }
}

/* Fix para Firefox: suavizar renderização de fontes */
@-moz-document url-prefix() {
    body {
        -moz-osx-font-smoothing: grayscale;
    }
}

/* ==========================================
   MELHORIAS DE SEO
   ========================================== */

/* Structured data styling */
.structured-data {
    display: none;
}

/* Breadcrumb melhorado para SEO */
.breadcrumb {
    font-size: 0.875rem;
}

.breadcrumb-item + .breadcrumb-item::before {
    content: "›";
    font-weight: 600;
}

/* ==========================================
   OTIMIZAÇÕES FINAIS
   ========================================== */

/* Reduzir repaints */
.navbar,
.card-paroquia,
.btn-paroquia {
    backface-visibility: hidden;
    perspective: 1000px;
}

/* Otimizar animações para 60fps */
@media (prefers-reduced-motion: no-preference) {
    .animate-on-scroll {
        transform: translate3d(0, 20px, 0);
    }
    
    .animate-on-scroll.visible {
        transform: translate3d(0, 0, 0);
    }
}

/* Garantir que o scroll seja suave em todos os navegadores */
html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
}

/* ==========================================
   CLASSES DE UTILITÁRIO FINAL
   ========================================== */

/* Classe para debugging (remover em produção) */
.debug-outline * {
    outline: 1px solid red !important;
}

/* Classe para forçar re-render (uso específico) */
.force-repaint {
    transform: translateZ(0);
}

/* Classe para conteúdo crítico acima da dobra */
.above-fold {
    contain: layout style paint;
}

/* ==========================================
   COMENTÁRIOS PARA MANUTENÇÃO
   ========================================== */

/*
IMPORTANTE: Este arquivo contém ajustes finais e correções.
Mantenha organizado e comente bem as mudanças.

TODO FUTURO:
- Implementar modo escuro completo
- Adicionar mais animações de micro-interação
- Otimizar ainda mais para Core Web Vitals
- Considerar CSS Container Queries quando bem suportado
*/